# KOFUKU - 愛のエッセイと共に紡ぐ古着共感プラットフォーム

> 「その服に、あなたの"愛"はありますか？」

KOFUKUは、ただの古着マーケットではありません。
"語ること"を前提とした、服に宿るストーリーを重んじる人のための古着共感プラットフォームです。

## 🌿 コンセプト

出品時には、最低でも1,000文字以上の「愛のエッセイ」が必須。
ただし、文章に自信がない人のために、AI補助あり（語彙提案、構成補完など）。
「この服をなぜ買ったのか？」「どこへ着て行ったのか？」「何を失ってこの服を手放すのか？」──
そういった"情緒"が伝わらないと売れない、売らせないアプリです。

### 🎯 コアの目的

- **古着大量消費へのアンチテーゼ**: 「買って、飽きて、売って」を繰り返すファストファッション的古着消費に対抗し、一着一着への愛着と物語を重視する文化を創出
- **ロジカル系古着インフルエンサーの創出**: 感覚的な「可愛い」「カッコいい」だけでなく、歴史的背景、デザインの意図、素材の価値を論理的に語れる新世代の古着文化発信者を育成

## 🎯 想定ユーザー層

- **古着屋スタッフ／ヴィンテージ愛好家**
- **エモい文化に共鳴するZ世代**
- **消費社会に疑問を持つエシカル層**
- **アートやサブカルを愛する人々**

## 🧩 コア機能

| 機能 | 説明 |
|------|------|
| ✍️ **愛エッセイ投稿（1000文字以上）** | 画像ではなく"語り"が先。審査制でもよい。 |
| 💬 **共感スワイプ** | 「欲しい」より先に「読んで泣いた」「共感した」が並ぶ |
| 🔄 **服の輪** | 「売る」ではなく「譲る」。次の人もまた愛を語ることで「ストーリーが蓄積」される |
| 🎙️ **ボイス出品** | エッセイの読み上げ音声（本人 or AI音声）も添える |
| 🧠 **エッセイ自動生成支援** | ChatGPT APIでサポート（でも本人チェック必須） |
| 👤 **匿名 × ペンネーム制** | ファッション性と文筆性を融合させた文化的コミュニティへ |

## 💰 収益化モデル

- **投稿課金型**: エッセイをAIと一緒に生成する際に有料
- **サブスク（感性サポーター）**: 共感で応援したい人が課金
- **独自通貨（"WASURENA"など）**: 出品や購入の際に感性コインを使用
- **タイアップ（古着イベント × KOFUKU）**: 実店舗との文化連携

## 🧠 技術的実装方針

- **Firebase Firestore**: ユーザー・商品・エッセイDB
- **Firebase Auth**: 匿名ログイン＋Google連携
- **ChatGPT API**: 文章構成支援 or 添削補助
- **Cloud Functions**: 投稿ルール審査、スパム防止
- **アニメーション多めのUI**: 読み物としての美しさ演出

## 📌 なぜこのモデルは有効か？

### 🚫 大量消費文化への対抗
- **古着大量消費アンチテーゼ**: 1000文字エッセイ必須により、衝動的な売買を防ぎ、一着への深い愛着を促進
- **転売ヤー排除**: 情緒的参入障壁により、利益目的の大量出品者を自然に淘汰
- **質的向上**: 量より質を重視することで、本当に価値のある古着とストーリーのみが流通

### 🧠 新しい古着文化の創造
- **ロジカル系インフルエンサー育成**: エッセイを通じて古着の歴史・デザイン・価値を論理的に語れる人材を発掘・育成
- **教育的コミュニティ**: 単なる売買ではなく、ファッション史や素材知識を学び合う場として機能
- **文化的影響力**: サブカル系メディアに取り上げられやすく、古着業界全体のイメージ向上に寄与

### 💡 ビジネス的優位性
- メルカリなどにはない情緒的参入障壁で、独自コミュニティを築ける
- 自分の"ストーリー"を売る、という自己表現型ビジネスと親和性が高い
- 深い関係性によるリピート率・単価向上が期待できる

---

# 技術仕様

## 🏗️ アーキテクチャ

このプロジェクトは以下のクリーンアーキテクチャ層で構成されています：

```
lib/
├── presentation/        # UI層 - Pages, Widgets, ViewModels
├── application/         # 状態管理・ユースケース層
├── domain/             # ドメイン層 - Entities, Repositories
├── infrastructure/     # データ層 - Repository実装, DataSources
├── game/              # ゲーム専用ロジック
└── utils/             # 共通ユーティリティ
```

## 🛠️ 技術スタック

- **フレームワーク**: Flutter
- **状態管理**: Riverpod
- **ルーティング**: Go Router
- **データ保存**: Hive
- **依存性注入**: Injectable + Get It
- **ネットワーク**: Dio + Retrofit
- **関数型プログラミング**: Dartz
- **UI**: Flutter ScreenUtil

## 📦 主要な依存関係

```yaml
dependencies:
  flutter_riverpod: ^2.5.1      # 状態管理
  go_router: ^14.6.2            # ルーティング
  hive: ^2.2.3                  # データ保存
  get_it: ^8.0.2                # 依存性注入
  injectable: ^2.5.0            # 依存性注入アノテーション
  dio: ^5.7.0                   # HTTP クライアント
  dartz: ^0.10.1                # 関数型プログラミング
  flutter_screenutil: ^5.9.3   # 画面サイズ対応
```

## 🚀 セットアップ

### 1. 依存関係のインストール
```bash
flutter pub get
```

### 2. コード生成の実行
```bash
dart run build_runner build
```

### 3. アプリの実行
```bash
flutter run
```

## 📱 開発状況

### 現在実装されている機能
- ✅ **基本アーキテクチャ**: クリーンアーキテクチャ + MVVM パターン完成
- ✅ **ホーム画面**: ウェルカム画面とナビゲーション
- ✅ **ユーザー管理**: 基本的なCRUD操作
- ✅ **状態管理**: Riverpod による状態管理
- ✅ **依存性注入**: GetIt + Injectable による DI システム

### 今後追加予定の機能（プロダクト機能）
- 🔄 **愛エッセイ投稿システム**: 1000文字以上のエッセイ作成画面
- 🔄 **AI文章支援**: ChatGPT API 連携による文章構成支援
- 🔄 **共感機能**: エッセイへの共感・応援システム
- 🔄 **ペンネーム管理**: 匿名性とクリエイティビティを両立
- 🔄 **服の輪システム**: ストーリーが引き継がれる譲渡システム
- 🔄 **ボイス機能**: エッセイ読み上げ音声
- 🔄 **感性コイン経済**: WASURENA トークンシステム
- 🔄 **Firebase連携**: 実際のデータベース接続

## 🏗️ ディレクトリ構造の詳細

### Presentation層
- `pages/` - 画面コンポーネント
- `widgets/` - 再利用可能なUIコンポーネント
- `view_models/` - 状態管理とビジネスロジック
- `router/` - ルーティング設定

### Application層
- `usecases/` - ビジネスロジックの実行
- `providers/` - Riverpodプロバイダー
- `state/` - アプリケーション状態

### Domain層
- `entities/` - ビジネスエンティティ
- `repositories/` - リポジトリインターフェース
- `value_objects/` - 値オブジェクト

### Infrastructure層
- `repositories/` - リポジトリの具象実装
- `datasources/` - データソース（API、DB等）
- `models/` - データモデル

## 🔧 開発時のコマンド

### コード生成
```bash
dart run build_runner build --delete-conflicting-outputs
```

### 監視モードでのコード生成
```bash
dart run build_runner watch
```

### 静的解析
```bash
flutter analyze
```

### テストの実行
```bash
flutter test
```

## 📝 コーディングガイドライン

1. **依存性の方向**: 外側の層から内側の層への依存のみ許可
2. **状態管理**: UIの状態はRiverpodで管理
3. **エラーハンドリング**: Either<Failure, Success>パターンを使用
4. **命名規則**: Dartの規約に従う
5. **コメント**: 複雑なビジネスロジックには適切なコメントを記載

## 🤝 コントリビューション

1. フィーチャーブランチを作成
2. 変更を実装
3. テストを追加
4. プルリクエストを作成

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。
